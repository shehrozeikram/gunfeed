<!DOCTYPE html>
<html lang="en">
<%= render partial: 'partials/title' %>
<body class="body-style">
<%= render partial: 'partials/header' %>
<section>
  <div class="container">
    <div class="add-section add-banner-section">
    </div>
  </div>
</section>
<section>
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <div class="card p-3">
          <div class="card__title">
            <h1 class="listing-title listing-title--block"> Compare Guns</h1>
            <p class="subtitle"> Compare gun price, size, weight, capacity and other specifications.</p>
          </div>
          <div class="card__content">
            <div class="compare">
              <form>

                <div class="row">
                  <div class="col-md-6">
                    <div class="accordion accordion-search" id="accordionExample">
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                          <button class="accordion-button collapsed target-replace" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            My First Gun
                          </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                          <input type="text" id="mySelect2" class="form-control search-select-input" name="q" onkeyup="compare_guns_search()"  >
                          <i class="fa fa-search search-select-icon"></i>
                          <div class="select-detail search-detail-1">Please Enter 1 or more character</div>
                        </div>

                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <div class="accordion" id="accordionExample">

                        <div class="accordion-item accordion-item-right">
                          <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed target-replace-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                              My Second Gun
                            </button>
                          </h2>
                          <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                            <input type="text" id="compare_guns_searchSide" class="form-control search-select-input search-right-term" name="q" onkeyup="compare_guns_search_side()" >
                            <i class="fa fa-search search-select-icon"></i>
                            <div class="select-detail-side-1">Please Enter 1 or more character</div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
              <div id="product-compare-content" class="compare-gun-table">
                <table class="table text-center compare__table">
                  <tbody>

                  <tr>
                    <td>
                      <div class="compare__image" id="compare-img-left">
                        <img
                          src="<%= @product.image %>" class="img-fluid"
                          alt="">
                      </div>
                    </td>
                    <th class="label">Image</th>
                    <td>
                      <div class="compare__image" id="compare-img-right"> <img
                        src="<%= @product.image %>" class="img-fluid"
                        alt=""></div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__upc " id="upc"> <a href="/search/apachesolr_search/022188868272">02218886</a>
                      </div>
                    </td>
                    <th class="label label--upc">UPC</th>
                    <td>
                      <div class="compare__upc "> <a href="/search/apachesolr_search/022188868104" id="upc-1">022188</a>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__mpn "> <a href="/search/apachesolr_search/10305" id="mpn">20562</a></div>
                    </td>
                    <th class="label label--mpn">MPN</th>
                    <td>
                      <div class="compare__mpn "> <a href="/search/apachesolr_search/10202" id="mpn-1">52146</a></div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__brand " id="brand"> Smith &amp; Wesson</div>
                    </td>
                    <th class="label label--brand">Brand</th>
                    <td>
                      <div class="compare__brand " id="brand-1"> Model</div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__brand " id="caliber"> Caliber</div>
                    </td>
                    <th class="label label--brand">Caliber</th>
                    <td>
                      <div class="compare__brand " id="caliber-1"> Caliber</div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__brand " id="price"> $330</div>
                    </td>
                    <th class="label label--brand">Price</th>
                    <td>
                      <div class="compare__brand " id="price-1"> Smith &amp; Wesson</div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__brand " id="condition"> Condition</div>
                    </td>
                    <th class="label label--brand">Condition</th>
                    <td>
                      <div class="compare__brand " id="condition-1"> Smith &amp; Wesson</div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="compare__brand " id="verfied"> YES</div>
                    </td>
                    <th class="label label--brand">VERIFIED</th>
                    <td>
                      <div class="compare__brand " id="verfied-1"> No</div>
                    </td>
                  </tr>


                  <tr>
                    <td class="compare__deals p-0">
                      <div class="compare__deal ">
                        <div class="compare__deal-store">
                          <a itemprop="url" target="_blank" href="#" class="js-ga-event" data-ga-action="External Click"
                             data-ga-category="Palmetto State Armory" data-ga-label="gun.deals merchant table">
                                     <span itemprop="offeredBy" itemtype="#">Palmetto State Armory
                                     </span>
                          </a>
                        </div>
                        <div class="compare__deal-price">
                                 <span>
                                     <span itemprop="price">$555.55</span>
                                 </span>
                        </div>
                        <div class="compare__deal-additional">
                          <div>
                                     <span class="" data-toggle="tooltip" data-title="Shipping info: Additional">
                                         <i class="fa fa-truck"></i>
                                     </span>
                          </div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Palmetto State Armory" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a></div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Palmetto State Armory"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Palmetto State Armory</span> </a>
                        </div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$555.55</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Additional"> <i
                            class="fa fa-truck"></i> </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Palmetto State Armory" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a></div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Palmetto State Armory"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Palmetto State Armory</span> </a>
                        </div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$555.55</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Additional"> <i
                            class="fa fa-truck"></i> </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Palmetto State Armory" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a></div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Palmetto State Armory"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Palmetto State Armory</span> </a>
                        </div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$555.55</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Additional"> <i
                            class="fa fa-truck"></i> </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Palmetto State Armory" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a></div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Palmetto State Armory"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Palmetto State Armory</span> </a>
                        </div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$555.55</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Additional"> <i
                            class="fa fa-truck"></i> </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Palmetto State Armory" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a></div>
                      </div>
                      <div class="compare__deals-see-more"> <a href="#">Show
                        all</a></div>
                    </td>
                    <th class="label label--deals">Lowest Prices Online</th>
                    <td class="compare__deals p-0">
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Smoky Mountain Guns and Ammo"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Smoky Mountain Guns and Ammo</span>
                        </a></div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$300.30</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Free S/H on Firearms"> <i
                            class="fa fa-truck"></i>
                                     </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Smoky Mountain Guns and Ammo" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a>
                        </div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Smoky Mountain Guns and Ammo"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Smoky Mountain Guns and Ammo</span>
                        </a></div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$300.30</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Free S/H on Firearms"> <i
                            class="fa fa-truck"></i>
                                     </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Smoky Mountain Guns and Ammo" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a>
                        </div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Smoky Mountain Guns and Ammo"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Smoky Mountain Guns and Ammo</span>
                        </a></div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$300.30</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Free S/H on Firearms"> <i
                            class="fa fa-truck"></i>
                                     </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Smoky Mountain Guns and Ammo" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a>
                        </div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Smoky Mountain Guns and Ammo"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Smoky Mountain Guns and Ammo</span>
                        </a></div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$300.30</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Free S/H on Firearms"> <i
                            class="fa fa-truck"></i>
                                     </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Smoky Mountain Guns and Ammo" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a>
                        </div>
                      </div>
                      <div class="compare__deal ">
                        <div class="compare__deal-store"> <a itemprop="url" target="_blank" href="#" class="js-ga-event"
                                                             data-ga-action="External Click" data-ga-category="Smoky Mountain Guns and Ammo"
                                                             data-ga-label="gun.deals merchant table"> <span itemprop="offeredBy"
                                                                                                             itemtype="#">Smoky Mountain Guns and Ammo</span>
                        </a></div>
                        <div class="compare__deal-price"> <span> <span itemprop="price">$300.30</span> </span></div>
                        <div class="compare__deal-additional">
                          <div> <span class="" data-toggle="tooltip" data-title="Shipping info: Free S/H on Firearms"> <i
                            class="fa fa-truck"></i>
                                     </span></div>
                        </div>
                        <div class="compare__deal-cta"> <a href="#" class="js-ga-event" data-ga-action="External Click"
                                                           data-ga-category="Smoky Mountain Guns and Ammo" data-ga-label="Gun Compare page - Buy link"
                                                           target="_blank"> <i class="fa fa-shopping-cart"></i> <span>Buy</span> </a>
                        </div>
                      </div>
                      <div class="compare__deals-see-more"> <a href="#">Show
                        all</a></div>
                    </td>
                  </tr>


                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="card p-3 my-3">
          <div class="card__title">
            <h2>Compare with other guns</h2>
          </div>
          <div class="card__content">
            <div class="compare__suggestions">
              <div class="row">
                <div class="col-md-6">
                  <div class="card compare__suggestion p-3 mb-3 card-gun-compare">
                    <div class="card__content">
                      <div class="compare__suggestion-body">
                        <div class="row">
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356577207_6196903023fef.jpg" alt="Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720">
                              </div>
                              <span>Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720</span>
                            </div>
                          </div>
                          <div class="col-md-2">
                            <div>vs</div>
                          </div>
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356579157_61969078e7760.jpg" alt="Savage Arms 110 Ultralite .28 Nosler 57915">
                              </div>
                              <span>Savage Arms 110 Ultralite .28 Nosler 57915</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="card-footer-compare">
                      <a href="#">Compare</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card compare__suggestion p-3 mb-3 card-gun-compare">
                    <div class="card__content">
                      <div class="compare__suggestion-body">
                        <div class="row">
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356577207_6196903023fef.jpg" alt="Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720">
                              </div>
                              <span>Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720</span>
                            </div>
                          </div>

                          <div class="col-md-2">
                            <div>vs</div>
                          </div>

                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356579157_61969078e7760.jpg" alt="Savage Arms 110 Ultralite .28 Nosler 57915">
                              </div>
                              <span>Savage Arms 110 Ultralite .28 Nosler 57915</span>
                            </div>
                          </div>

                        </div>



                      </div>
                    </div>
                    <div class="card-footer-compare">
                      <a href="#">Compare</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card compare__suggestion p-3 mb-3 card-gun-compare">
                    <div class="card__content">
                      <div class="compare__suggestion-body">
                        <div class="row">
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356577207_6196903023fef.jpg" alt="Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720">
                              </div>
                              <span>Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720</span>
                            </div>
                          </div>

                          <div class="col-md-2">
                            <div>vs</div>
                          </div>

                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356579157_61969078e7760.jpg" alt="Savage Arms 110 Ultralite .28 Nosler 57915">
                              </div>
                              <span>Savage Arms 110 Ultralite .28 Nosler 57915</span>
                            </div>
                          </div>

                        </div>



                      </div>
                    </div>
                    <div class="card-footer-compare">
                      <a href="#">Compare</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card compare__suggestion p-3 mb-3 card-gun-compare">
                    <div class="card__content">
                      <div class="compare__suggestion-body">
                        <div class="row">
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356577207_6196903023fef.jpg" alt="Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720">
                              </div>
                              <span>Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720</span>
                            </div>
                          </div>

                          <div class="col-md-2">
                            <div>vs</div>
                          </div>

                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356579157_61969078e7760.jpg" alt="Savage Arms 110 Ultralite .28 Nosler 57915">
                              </div>
                              <span>Savage Arms 110 Ultralite .28 Nosler 57915</span>
                            </div>
                          </div>

                        </div>



                      </div>
                    </div>
                    <div class="card-footer-compare">
                      <a href="#">Compare</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card compare__suggestion p-3 mb-3 card-gun-compare">
                    <div class="card__content">
                      <div class="compare__suggestion-body">
                        <div class="row">
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356577207_6196903023fef.jpg" alt="Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720">
                              </div>
                              <span>Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720</span>
                            </div>
                          </div>

                          <div class="col-md-2">
                            <div>vs</div>
                          </div>

                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356579157_61969078e7760.jpg" alt="Savage Arms 110 Ultralite .28 Nosler 57915">
                              </div>
                              <span>Savage Arms 110 Ultralite .28 Nosler 57915</span>
                            </div>
                          </div>

                        </div>



                      </div>
                    </div>
                    <div class="card-footer-compare">
                      <a href="#">Compare</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card compare__suggestion p-3 mb-3 card-gun-compare">
                    <div class="card__content">
                      <div class="compare__suggestion-body">
                        <div class="row">
                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356577207_6196903023fef.jpg" alt="Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720">
                              </div>
                              <span>Savage Arms 110 UltraLite Gray Left Hand .28 Nosler 57720</span>
                            </div>
                          </div>

                          <div class="col-md-2">
                            <div>vs</div>
                          </div>

                          <div class="col-md-5">
                            <div>
                              <div class="compare__suggestion-image">
                                <img src="https://gun.deals/sites/default/files/guns_catalog/011356579157_61969078e7760.jpg" alt="Savage Arms 110 Ultralite .28 Nosler 57915">
                              </div>
                              <span>Savage Arms 110 Ultralite .28 Nosler 57915</span>
                            </div>
                          </div>

                        </div>



                      </div>
                    </div>
                    <div class="card-footer-compare">
                      <a href="#">Compare</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- card section two start here  -->
<%= render partial: 'partials/middle_adds' %>
<section class="mb-4">
  <div class="container">
    <div class="row">
      <%= render partial: 'partials/bottom_cards' %>
    </div>
  </div>
</section>
<%= render partial: 'partials/footer' %>
</body>
</html>


<script>


    function compare_guns_search() {
        $(document).ready(function(){
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: "/search_compare_guns",
                data:{
                    q: $('#mySelect2').val()
                },
                success:function(data){
                    let gunOPT = "";

                    data.forEach((product)=> {
                        let searchDetail = document.querySelector('.select-detail');
                        // console.log({storedItems: product.length})
                        // console.log({data: data});
                        // console.log(product.title);
                        console.log({productIDs: product.id})


                        if (data.length >= 0) {

                            gunOPT += `
                           <div class="search-group" id="searchGroup" onclick="select_gun(${product.id})">
                               <img src="${product.image.url}" class="search-img"/>
                               <h4 class="h4" id="searchGun">
                                 <a href="#" class="product-link-search">${product.title} </a>
                           </h4>
                           </div>
                        `;


                            const selectDetail = document.querySelector('.select-detail');
                            setTimeout(() => {
                                selectDetail.textContent = 'Searching...';
                                setTimeout(() => {
                                    selectDetail.textContent = "Fetching Data...";
                                    setTimeout(() => {
                                        searchDetail.classList.add('select-detail-items');
                                        console.log({searchDetail: searchDetail});


                                        selectDetail.innerHTML = gunOPT;

                                        //.. Add Current Click Funtionality to Searchbar
                                        const productButton = document.querySelectorAll('.product-link-search');
                                        console.log({button: productButton})

                                        productButton.forEach((handleProduct) => {
                                            handleProduct.addEventListener('click', handleProductSearch);


                                        });

                                        //.. FILTER GUN PRODCUTS
                                        document.querySelector('#mySelect2').addEventListener('keyup', filterGunProduct)
                                    },100)
                                }, 100)
                            }, 100);
                        };

                    })
                }
            });
        });
    };


    // SEARCH & MATCH PRODUCT ITEMS VIA TYPED INPUT - 1

    // Filter GUN PRODUCTS LEFT
    function filterGunProduct (e) {
        const text = e.target.value.toLowerCase(); // gives whatever is being typed in
        const gunItem = document.querySelector('.search-group');

        document.querySelectorAll(".search-group").forEach(function(task) {
            console.log({task: task})
            const item = task.firstChild.textContent;
            console.log(item.toLowerCase().indexOf(text))
            if(item.toLowerCase().indexOf(text) != -1) {
                task.style.display = 'block';
            } else {
                task.style.display = 'none';
                document.querySelector('.search-detail-1').innerHTML = "<h1>No Product Found</h1>"
            }
        });
    };





    //.. Show Search On Focus
    document.querySelector('#mySelect2').addEventListener('keyup', (event) => {

        const searchItems = document.querySelector('.select-detail-items');
        searchItems.setAttribute('style', 'display: block !important');

        event.preventDefault();
        return true;

    });



    // .. HANDLE SEARCH TARGET BY CLICKING ON SELECT MENU LIST
    const handleProductSearch = function (event) {
        const searchItems = document.querySelector('.select-detail-items');
        if(event.target.classList.contains('product-link-search')) {
            const getText = event.target.textContent;
            const buttonReplaceText = document.querySelector('.target-replace');
            buttonReplaceText.textContent = getText;

            searchItems.setAttribute('style', 'display: none !important');


            //.. Call Ajax Request for REQUESTED Data


        };
        event.preventDefault();
        return true;
    };

    // //.. Show Search On Focus
    // document.querySelector('#compare_guns_searchSide').addEventListener('keyup', (event) => {
    //
    //     const searchItems = document.querySelector('.select-detail-items');
    //     searchItems.setAttribute('style', 'display: block !important');
    //
    //     event.preventDefault();
    //     return true;
    //
    // });

    // compare_guns_searchSide
    function compare_guns_search_side() {
        $(document).ready(function(){
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: "/search_compare_guns",
                data:{
                    q: $('#compare_guns_searchSide').val()
                },
                success:function(data){
                    let gunOPT = "";
                    data.forEach((product)=> {
                        const searchDetail = document.querySelector('.select-detail-side-1')

                        if (data.length >= 0) {
                            console.log(data);
                            console.log(product.title);
                            gunOPT += `
                           <div class="search-group" onclick="select_gunSec(${product.id})">
                               <img src="${product.image.url}" class="search-img"/>
                               <h4 class="h4"> <a href="#" class="product-link-search-1">${product.title} </a> </h4>
                           </div>
                        `;
                            const selectDetail = document.querySelector('.select-detail-side-1');
                            setTimeout(() => {
                                selectDetail.textContent = 'Searching...';
                                setTimeout(() => {

                                    selectDetail.textContent = "Fetching Data...";
                                    setTimeout(() => {

                                        selectDetail.classList.add('select-detail-items')
                                        selectDetail.innerHTML = gunOPT;


                                        //.. Add Current Click Funtionality to Searchbar
                                        const productButton = document.querySelectorAll('.product-link-search-1');
                                        console.log({button: productButton})

                                        productButton.forEach((handleProduct) => {
                                            handleProduct.addEventListener('click', handleProductSearchRight);
                                        });

                                        document.querySelector('#compare_guns_searchSide').addEventListener('keyup', rightSearchFilter );


                                    },100)
                                }, 100)
                            }, 100);
                        }
                    })
                }
            });
        });
    };

    //.. RIGHT FILTER SEARCH
    const rightSearchFilter = (event) => {
        const text = event.target.value.toLowerCase(); // gives whatever is being typed in
        const gunItem = document.querySelector('.search-group');

        document.querySelectorAll(".search-group").forEach(function(task) {
            console.log({task: task})
            const item = task.firstChild.textContent;
            console.log(item.toLowerCase().indexOf(text))
            if(item.toLowerCase().indexOf(text) != -1) {
                task.style.display = 'block';
            } else {
                task.style.display = 'none';
                document.querySelector('.select-detail-side-1').innerHTML = "<h1>No Product Found</h1>"
            }
        });
    };


    const handleProductSearchRight = function (event) {

        const searchItems = document.querySelector('.select-detail-side-1');
        if(event.target.classList.contains('product-link-search-1')) {
            const getText = event.target.textContent;
            const buttonReplaceText = document.querySelector('.target-replace-1');
            buttonReplaceText.textContent = getText;

            searchItems.setAttribute('style', 'display: none !important');


            //.. Call Ajax Request for REQUESTED Data

        };

        event.preventDefault();
        return true;
    };


    //.. SHOW SEARCH WHEN FOCUS ON INPUT
    // document.querySelector('#mySelect2').addEventListener('keyup', (event) => {
    //     const searchItems = document.querySelector('.select-detail-side-1');
    //     searchItems.classList.add('show--search')
    //    event.preventDefault();
    //    return true;
    // });





    //.. API AJAX CALL FOR GETTING REQUESTED PRODUCT
    //.. API AJAX CALL FOR GETTING REQUESTED PRODUCT
    function select_gun(id) {
        $(document).ready(function(){
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: "/select_gun/" + id,
                data:{

                },
                success:function(data){
                    console.log(data)

                    const leftTableImage = document.querySelector('#compare-img-left');
                    leftTableImage.innerHTML = `
                      <img
                        src="${data.image.url}" class="img-fluid"
                        alt="">
                    `;

                    // #upc
                    // #mpn
                    // #brand
                    // #Model
                    // #caliber
                    // #price
                    // #condition

                    setTimeout(() => {
                        document.querySelector('#upc').textContent = "Loading...";
                        document.querySelector("#mpn").textContent = "Loading...";
                        document.querySelector("#brand").textContent = "Loading...";
                        document.querySelector("#caliber").textContent = "Loading...";
                        document.querySelector("#price").textContent = "Loading...";

                        setTimeout(() => {
                            document.querySelector('#upc').textContent = data.upc;
                            document.querySelector("#mpn").textContent = data.mpn;
                            document.querySelector("#brand").textContent = data.brand;
                            document.querySelector("#caliber").textContent = data.caliber;
                            document.querySelector("#price").textContent = data.price;
                        }, 100)
                    })

                    if(data.verified === true) {
                        document.querySelector("#verified").textContent = "YES";
                    } else {
                        document.querySelector("#verified").textContent = "NO";
                    }

                    if(data.condition === null) {
                        document.querySelector("#condition").textContent = "Not Listed";
                    } else {
                        document.querySelector("#condition").textContent = data.condition;
                    }

                }
            });
        });
    };
    function select_gunSec(id) {
        $(document).ready(function(){
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: "/select_gun/" + id,
                data:{

                },
                success:function(data){
                    console.log(data)

                    const leftTableImage = document.querySelector('#compare-img-right');
                    leftTableImage.innerHTML = `
                      <img
                        src="${data.image.url}" class="img-fluid"
                        alt="">
                    `;

                    // #upc
                    // #mpn
                    // #brand
                    // #Model
                    // #caliber
                    // #price
                    // #condition

                    setTimeout(() => {
                        document.querySelector('#upc-1').textContent = "Loading..";
                        document.querySelector("#mpn-1").textContent = "Loading..";
                        document.querySelector("#brand-1").textContent = "Loading.."
                        document.querySelector("#caliber-1").textContent = "Loading..";
                        document.querySelector("#price-1").textContent = "Loading..";

                        setTimeout(() => {
                            document.querySelector('#upc-1').textContent = data.upc;
                            document.querySelector("#mpn-1").textContent = data.mpn;
                            document.querySelector("#brand-1").textContent = data.brand;
                            document.querySelector("#caliber-1").textContent = data.caliber;
                            document.querySelector("#price-1").textContent = data.price;
                        }, 100)
                    })

                    if(data.verified === true) {
                        // document.querySelector("#verified").textContent = "YES";

                        setTimeout(() => {
                            document.querySelector("#verified").textContent = "Loading...";
                            setTimeout(() => {
                                document.querySelector("#verified").textContent = "YES";
                            }, 100)
                        }, 100)
                    } else {
                        setTimeout(() => {
                            document.querySelector("#verified").textContent = "Loading...";
                            setTimeout(() => {
                                document.querySelector("#verified").textContent = "NO";
                            }, 100)
                        }, 100)
                    }

                    if(data.condition === null) {
                        document.querySelector("#condition").textContent = "Not Listed";
                    } else {
                        document.querySelector("#condition").textContent = data.condition;
                    }

                }
            });
        });
    };




</script>